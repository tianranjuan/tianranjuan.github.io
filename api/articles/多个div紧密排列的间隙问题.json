{"title":"多个div紧密排列的间隙问题","uid":"6d41b9e6354554d3613a2c8170bc7bc4","slug":"多个div紧密排列的间隙问题","date":"2025-09-29T15:27:23.263Z","updated":"2025-10-09T07:25:53.708Z","comments":true,"path":"api/articles/多个div紧密排列的间隙问题.json","keywords":null,"cover":"https://cdn.stocksnap.io/img-thumbs/280h/enchanting-forest_1CFKSWRR5X.jpg","content":"<h2 id=\"div-的行间缝隙\"><a href=\"#div-的行间缝隙\" class=\"headerlink\" title=\"div 的行间缝隙\"></a>div 的行间缝隙</h2><p>在绘制<code>cell</code>时出现了 div 行间距非常大的问题</p>\n<p><img src=\"/image/div%E8%A1%8C%E9%97%B4%E8%B7%9D%E8%BF%87%E5%A4%A7.JPG\" alt=\"div行间缝隙\"></p>\n<p>在查找资料后发现原因:</p>\n<blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>在 line-block 模式下，元素被当成行内元素排版，元素之间的空白符（空格、回车换行等）都会被浏览器处理，根据 white-space 的处理方式（默认是 normal，合并多余空白），原来 HTML 代码中的回车换行被转成一个空白符，在字体不为 0 的情况下，空白符占据一定宽度，所以 inline-block 的元素之间就出现了空隙。这些元素之间的间距会随着字体的大小而变化，当行内元素 font-size:16px 时，间距为 8px。</p></blockquote>\n<p><strong>解决方案</strong></p>\n<p><strong>方案一、元素间不换行</strong></p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki one-dark-pro\" style=\"background-color: #282c34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #ABB2BF\">&lt;</span><span style=\"color: #E06C75\">div</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #D19A66; font-style: italic\">class</span><span style=\"color: #56B6C2\">=</span><span style=\"color: #98C379\">\"box\"</span><span style=\"color: #ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  &lt;</span><span style=\"color: #E06C75\">span</span><span style=\"color: #ABB2BF\">&gt;111&lt;/</span><span style=\"color: #E06C75\">span</span><span style=\"color: #ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  &lt;</span><span style=\"color: #E06C75\">span</span><span style=\"color: #ABB2BF\">&gt;111&lt;/</span><span style=\"color: #E06C75\">span</span><span style=\"color: #ABB2BF\">&gt;</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">&lt;/</span><span style=\"color: #E06C75\">div</span><span style=\"color: #ABB2BF\">&gt;</span></span></code></pre></div><p>此方案不具备可读性，且为生成 div 没法控制这个问题，所以不考虑。</p>\n<p><strong>方案二、font-size:0;</strong></p>\n<div class=\"language-css\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">css</span><pre class=\"shiki one-dark-pro\" style=\"background-color: #282c34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #61AFEF\">#container</span><span style=\"color: #ABB2BF\"> {</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  font-size: </span><span style=\"color: #D19A66\">0</span><span style=\"color: #E06C75\">px</span><span style=\"color: #ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  width: </span><span style=\"color: #D19A66\">701</span><span style=\"color: #E06C75\">px</span><span style=\"color: #ABB2BF\">;</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">}</span></span></code></pre></div><p>给父元素设置一个<code>font-size:0;</code>的样式，这个方案是根据<code>在字体不为 0 的情况下，空白符占据一定宽度，同时这些元素之间的间距会随着字体的大小而变化。</code>这一规则着手，将 div 间存在的空白字符字体设置为 0 让其显示不出来即可。</p>\n<p>如果子元素中有需要显示的文字，则给子元素单独设置正确的字体大小即可。</p>\n<p>最终实现时，使用了这个方案。</p>\n<p><strong>方案三、负 margin 方法</strong></p>\n<p>这个方案没能成功，同时这个方案由于<code>在字体不为 0 的情况下，空白符占据一定宽度，同时这些元素之间的间距会随着字体的大小而变化。</code>这个问题导致 margin 的值也是一个浮动的值，不灵活所以所以不考虑。</p>\n<hr>\n<p>在群里看到助教老师提出了一种不知道的方案记录下</p>\n<p><strong>方案四、去掉<code>&lt;!DOCTYPE html&gt;</code></strong></p>\n<p>根据 winter 老师的《重学前端》<sup>[1]</sup>专栏和[MDN]<sup>[2],[3]</sup>可知<code>&lt;!DOCTYPE html&gt;</code>是一种 DTD，它现在唯一的作用就是启用标准模式。</p>\n<p>在尝试去掉了以后，div 间的缝隙真的不见了，在找寻了一些资料后，得知<code>在Quirks Mode下，为body设置一个margin是无效的</code>，所以推测浏览器是使用的标准模式之外的另种模式中的一种，在该模式下 div 间的 margin 也被取消掉了；</p>\n<p>继续找到如下方法验证：</p>\n<div class=\"language-js\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">js</span><pre class=\"shiki one-dark-pro\" style=\"background-color: #282c34\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #E5C07B\">window</span><span style=\"color: #ABB2BF\">.</span><span style=\"color: #61AFEF\">alert</span><span style=\"color: #ABB2BF\">(</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">  </span><span style=\"color: #98C379\">\"You are in \"</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #56B6C2\">+</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">    (</span><span style=\"color: #E5C07B\">document</span><span style=\"color: #ABB2BF\">.</span><span style=\"color: #E06C75\">compatMode</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #56B6C2\">===</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">\"CSS1Compat\"</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #C678DD\">?</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">\"Standards\"</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #C678DD\">:</span><span style=\"color: #ABB2BF\"> </span><span style=\"color: #98C379\">\"Quirks\"</span><span style=\"color: #ABB2BF\">) </span><span style=\"color: #56B6C2\">+</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">    </span><span style=\"color: #98C379\">\" mode.\"</span></span>\n<span class=\"line\"><span style=\"color: #ABB2BF\">);</span></span></code></pre></div><p>结果为<code>You are in Quirks mode.</code>，印证了猜想。</p>\n<h2 id=\"结论\"><a href=\"#结论\" class=\"headerlink\" title=\"结论\"></a>结论</h2><p>日常工作中遇到这个问题，可以根据实际情况选择一个解决方案进行修改。</p>\n<h2 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h2><ul>\n<li>[1] <a href=\"https://time.geekbang.org/column/article/92227\">重学前端-HTML 语言：DTD 到底是什么？</a></li>\n<li>[2] <a href=\"https://developer.mozilla.org/zh-CN/docs/Glossary/DTD\">MDN-DTD</a></li>\n<li>[3] <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Quirks_Mode_and_Standards_Mode\">MDN-怪异模式和标准模式</a></li>\n<li>[4] <a href=\"https://www.jianshu.com/p/86be91568847\">简书-quirks 模式是什么？它和 standards 模式有什么区别</a></li>\n</ul>\n","feature":true,"text":"div 的行间缝隙在绘制cell时出现了 div 行间距非常大的问题 在查找资料后发现原因: 在 line-block 模式下，元素被当成行内元素排版，元素之间...","permalink":"/post/多个div紧密排列的间隙问题","photos":[],"count_time":{"symbolsCount":"1.4k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","count":5,"path":"api/tags/JavaScript.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#div-%E7%9A%84%E8%A1%8C%E9%97%B4%E7%BC%9D%E9%9A%99\"><span class=\"toc-text\">div 的行间缝隙</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%BB%93%E8%AE%BA\"><span class=\"toc-text\">结论</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%8F%82%E8%80%83\"><span class=\"toc-text\">参考</span></a></li></ol>","author":{"name":"天然卷打工战士","slug":"blog-author","avatar":"https://pic-blog-1255296193.cos.ap-beijing.myqcloud.com/touxiang.jpg","link":"/","description":"未看此花时， <br> 此花与汝同归于寂； <br> 来看此花时， <br> 此花颜色一时明白过来。","socials":{"github":"https://github.com/tianranjuan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{},"next_post":{"title":"关于JS中变量提升问题的研究","uid":"147d0b77a639b4360d2d5ae395dbfd1a","slug":"关于JS中变量提升问题的研究","date":"2025-09-29T15:09:13.110Z","updated":"2025-09-29T15:10:31.355Z","comments":true,"path":"api/articles/关于JS中变量提升问题的研究.json","keywords":null,"cover":"https://cdn.stocksnap.io/img-thumbs/280h/enchanting-forest_1CFKSWRR5X.jpg","text":"1. 提升意思指代码在在代码执行前预处理阶段由解释器对代码进行扫描后，对代码进行的优化处理，把以某些特定关键字声明的变量提前放置到作用域顶层提前声明、创建的行为...","permalink":"/post/关于JS中变量提升问题的研究","photos":[],"count_time":{"symbolsCount":"3.5k","symbolsTime":"3 mins."},"categories":[],"tags":[{"name":"JavaScript","slug":"JavaScript","count":5,"path":"api/tags/JavaScript.json"}],"author":{"name":"天然卷打工战士","slug":"blog-author","avatar":"https://pic-blog-1255296193.cos.ap-beijing.myqcloud.com/touxiang.jpg","link":"/","description":"未看此花时， <br> 此花与汝同归于寂； <br> 来看此花时， <br> 此花颜色一时明白过来。","socials":{"github":"https://github.com/tianranjuan","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}